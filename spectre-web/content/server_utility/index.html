<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Server Utility — Spectre</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="toolbar">
    <h1 class="toolbar-title">Server Utility</h1>
    <button type="button" class="btn btn-primary" id="save-config">Save Configuration</button>
  </header>

  <div class="main">
    <aside class="sidebar">
      <section class="sidebar-section" id="server-section">
        <label class="sidebar-label">Server</label>
        <select class="select" id="server-select" aria-label="Select server"></select>
        <div class="server-section-actions">
          <button type="button" class="btn btn-sm" id="server-add">Add</button>
          <button type="button" class="btn btn-sm" id="edit-server">Edit</button>
        </div>
      </section>

      <section class="sidebar-section">
        <label class="sidebar-label">Profiles</label>
        <div class="profile-list" id="profile-list" role="listbox" aria-label="Config profiles"></div>
        <div class="sidebar-actions">
          <button type="button" class="btn btn-sm" id="profile-new">New</button>
          <button type="button" class="btn btn-sm" id="profile-delete">Delete</button>
          <button type="button" class="btn btn-sm" id="profile-duplicate">Duplicate</button>
        </div>
      </section>

      <section class="sidebar-section">
        <label class="sidebar-label">Game</label>
        <select class="select" id="game-select" aria-label="Game executable">
          <option value="hd2">Hidden &amp; Dangerous 2</option>
          <option value="sabre">H&amp;D2: Sabre Squadron</option>
        </select>
      </section>

      <div class="sidebar-spacer"></div>
      <button type="button" class="btn btn-start" id="start-server">Start Server</button>
      <button type="button" class="btn btn-sm" id="start-all-servers">Start All Servers</button>
    </aside>

    <main class="content">
      <div class="tabs" role="tablist">
        <button type="button" class="tab" data-tab="maps" role="tab" aria-selected="true">Maps</button>
        <button type="button" class="tab" data-tab="general" role="tab">General</button>
        <button type="button" class="tab" data-tab="coop" role="tab">Coop</button>
        <button type="button" class="tab" data-tab="advanced" role="tab">Advanced</button>
      </div>

      <div class="tab-panels">
        <section class="tab-panel" id="panel-maps" role="tabpanel">
          <div class="panel-card">
            <h2 class="panel-heading">Session &amp; game</h2>
            <div class="form-row">
              <label>Profile name</label>
              <input type="text" class="input" id="profile-name" placeholder="Profile name">
            </div>
            <div class="form-row">
              <label>Session name (shown in-game)</label>
              <input type="text" class="input" id="session-name" placeholder="A Spectre Session">
            </div>
            <div class="form-row">
              <label>Style</label>
              <select class="select" id="style-select">
                <option value="Occupation">Occupation</option>
                <option value="Cooperative">Cooperative</option>
                <option value="Invasion">Invasion</option>
                <option value="Objectives">Objectives</option>
              </select>
            </div>
            <div class="form-row">
              <label>Domain</label>
              <div class="radio-group" role="radiogroup" aria-label="Domain type">
                <label class="radio-label">
                  <input type="radio" name="domain-type" value="Internet" id="domain-internet">
                  Internet
                </label>
                <label class="radio-label">
                  <input type="radio" name="domain-type" value="LAN" id="domain-lan">
                  LAN
                </label>
              </div>
            </div>
          </div>
          <div class="panel-card">
            <h2 class="panel-heading">Map rotation</h2>
            <p class="map-hint">Maps come from <code>mpmaplist.txt</code>. Add maps from the available pool into the rotation or remove them.</p>
            <div class="map-lists-row">
              <div class="map-list-box">
                <label class="map-list-label">Available (from mpmaplist)</label>
                <ul class="map-list" id="available-map-list" role="listbox" aria-label="Available maps"></ul>
              </div>
              <div class="map-list-actions">
                <button type="button" class="btn btn-sm" id="map-add" title="Add selected map to rotation">Add →</button>
                <button type="button" class="btn btn-sm" id="map-remove" title="Remove from rotation">← Remove</button>
              </div>
              <div class="map-list-box">
                <label class="map-list-label">Rotation</label>
                <div class="map-list-with-order">
                  <ul class="map-list" id="map-list" role="listbox" aria-label="Map rotation"></ul>
                  <div class="map-order-buttons" aria-label="Reorder rotation">
                    <button type="button" class="btn btn-icon" id="map-up" title="Move up">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M18 15l-6-6-6 6"/></svg>
                    </button>
                    <button type="button" class="btn btn-icon" id="map-down" title="Move down">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="tab-panel hidden" id="panel-general" role="tabpanel">
          <div class="panel-card">
            <h2 class="panel-heading">General</h2>
            <div class="form-grid">
              <div class="form-row">
                <label>Max clients</label>
                <input type="number" class="input input-num" id="max-clients" min="1" max="64" value="64">
              </div>
              <div class="form-row">
                <label>Point limit</label>
                <input type="number" class="input input-num" id="point-limit" min="0" value="0">
              </div>
              <div class="form-row">
                <label>Round limit</label>
                <input type="number" class="input input-num" id="round-limit" min="0" value="25">
              </div>
              <div class="form-row">
                <label>Round count</label>
                <input type="number" class="input input-num" id="round-count" min="1" max="20" value="1">
              </div>
              <div class="form-row">
                <label>Respawn time (s)</label>
                <input type="number" class="input input-num" id="respawn-time" min="0" value="20">
              </div>
              <div class="form-row">
                <label>Spawn protection (s)</label>
                <input type="number" class="input input-num" id="spawn-protection" min="0" max="30" value="0">
              </div>
              <div class="form-row">
                <label>Warmup (s)</label>
                <input type="number" class="input input-num" id="warmup" min="0" max="60" value="10">
              </div>
              <div class="form-row">
                <label>Inverse damage (%)</label>
                <input type="number" class="input input-num" id="inverse-damage" min="0" max="200" value="0">
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="friendly-fire" checked> Friendly fire
                </label>
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="auto-team-balance"> Auto team balance
                </label>
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="third-person-view"> Allow 3rd person view
                </label>
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="allow-crosshair" checked> Allow crosshair
                </label>
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="falling-dmg" checked> Falling damage
                </label>
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="allow-respawn" checked> Allow respawn
                </label>
              </div>
              <div class="form-row">
                <label class="checkbox-label">
                  <input type="checkbox" id="allow-vehicles" checked> Allow vehicles
                </label>
              </div>
            </div>
          </div>
        </section>

        <section class="tab-panel hidden" id="panel-coop" role="tabpanel">
          <div class="panel-card">
            <h2 class="panel-heading">Coop</h2>
            <div class="form-grid">
              <div class="form-row">
                <label>Difficulty</label>
                <select class="select" id="difficulty">
                  <option value="Easy">Easy</option>
                  <option value="Normal">Normal</option>
                  <option value="Hard" selected>Hard</option>
                  <option value="Very hard">Very hard</option>
                </select>
              </div>
              <div class="form-row">
                <label>Respawn number (0 = no limit)</label>
                <input type="number" class="input input-num" id="respawn-number" min="0" max="99" value="1">
              </div>
              <div class="form-row form-row-full">
                <label class="checkbox-label">
                  <input type="checkbox" id="team-respawn" checked> Team respawn
                </label>
              </div>
            </div>
          </div>
        </section>

        <section class="tab-panel hidden" id="panel-advanced" role="tabpanel">
          <div class="panel-card">
            <h2 class="panel-heading">Advanced</h2>
            <div class="form-grid">
              <div class="form-row">
                <label>Password</label>
                <input type="password" class="input" id="password" placeholder="Server password">
              </div>
              <div class="form-row">
                <label>Admin password</label>
                <input type="password" class="input" id="admin-pass" placeholder="Admin password">
              </div>
              <div class="form-row">
                <label>Max ping</label>
                <input type="number" class="input input-num" id="max-ping" min="0" value="0">
              </div>
              <div class="form-row">
                <label>Max frequency</label>
                <input type="number" class="input input-num" id="max-freq" min="0" value="0">
              </div>
              <div class="form-row">
                <label>Max inactivity (s)</label>
                <input type="number" class="input input-num" id="max-inactivity" min="0" value="0">
              </div>
              <div class="form-row form-row-with-notice">
                <p class="form-notice form-notice-info">Not in use</p>
                <label>Voice chat</label>
                <select class="select" id="voice-chat" disabled aria-label="Voice chat (not in use)">
                  <option value="0" selected>Not used</option>
                  <option value="1">Codec 1.2 kbps</option>
                  <option value="2">Codec 3.2 kbps</option>
                  <option value="3">Codec 6.4 kbps</option>
                  <option value="4">Codec 8.0 kbps</option>
                  <option value="5">Codec 13.0 kbps</option>
                  <option value="6">Codec 32.0 kbps</option>
                </select>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <dialog id="edit-server-dialog" class="edit-server-dialog" aria-label="Edit Server">
    <form method="dialog">
      <h3 class="dialog-title">Edit Server</h3>
      <div class="form-row">
        <label for="edit-server-port">Port</label>
        <input type="number" class="input input-num" id="edit-server-port" min="1" max="65535" value="22000" aria-label="Server port">
      </div>
      <div class="dialog-actions">
        <button type="submit" class="btn btn-primary" id="edit-server-save">Save</button>
        <button type="button" class="btn btn-sm" id="edit-server-cancel">Cancel</button>
      </div>
    </form>
  </dialog>

  <script src="js/app.js"></script>
</body>
</html>
